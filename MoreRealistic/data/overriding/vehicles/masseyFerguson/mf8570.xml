<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<vehicle type="combineDrivable" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../shared/xml/schema/vehicle.xsd">

    <!-- base game engine : this combine harvester is able to harvest 85T per hour. too far from reality (about 4x more than IRL) -->

    <MR>true</MR>
    <!-- hydrostatic transmission means we don't have the full engine power to the wheels. it depends on the hydraulics motors -->
    <mrTransmission isHydrostatic="true" maxRpmWanted="2200" powerRatio="0.8" />
    <!-- chopperPowerFx below 1 means more efficient system than average = less power required -->
    <!-- threshingPowerFx below 1 means more efficient system than average = less power required -->
    <mrCombine chopperIdlePower="10" chopperPowerFx="1.2" unloadingPower="15" threshingIdlePower="30" threshingPowerFx="1.2" irlSpotTonPerHour="30" maxFieldThreshingSpeed="12" /> <!-- 12 = 3rd gear-->

            <!-- IRL => hydrostatic, 4 gears
            1st gear = 0-2.6kph
            2nd gear = 0-6.0kph
            3rd gear = 0-11.9kph
            4th gear = 0-27.4kph-->

    <parentFile xmlFilename="$data/vehicles/masseyFerguson/mf8570/mf8570.xml">
        <attributes>

            <!-- older combine = more grain losses (cutter bar, sieves, rotor) than actual combines-->
            <set path="vehicle.combine#threshingScale" value="0.96"/>

            <!-- it sounds crazy, but vanilla game logic =
            1. when threshing system is turned on, and we unload the graintank, there is no change in power
            2. when threshing system is turned off, and we unload the graintank, we get the same power consumed than when threshing-->
            <set path="vehicle.powerConsumer#neededMaxPtoPower" value="0"/>

            <!-- 24.5R32+14.9R24 = 6072front and 4048 rear = 10120kgs (empty, no fuel) -->
            <set path="vehicle.base.components.component(0)#centerOfMass" value="0 1.8 0.65"/>
            <set path="vehicle.base.components.component(0)#mass" value="8750"/>
            <set path="vehicle.base.components.component(1)#mass" value="1000"/>

            <!--wheels -->
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(0).physics#spring" value="120"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(1).physics#spring" value="120"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(2).physics#spring" value="60"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(3).physics#spring" value="60"/>

            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(0).physics#damper" value="25"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(1).physics#damper" value="25"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(2).physics#damper" value="15"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(3).physics#damper" value="15"/>


            <set path="vehicle.powerConsumer#ptoRpm" value="540"/>
            <set path="vehicle.dischargeable.dischargeNode(0)#emptySpeed" value="65"/>

            <!-- no rear wheel brake on a combine harvester ! -->
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(2).physics#brakeFactor" value="0" />
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(3).physics#brakeFactor" value="0" />

            <!-- rear wheel assist (hydraulics) = not so much power to the rear -->
            <set path="vehicle.motorized.differentialConfigurations.differentialConfiguration.differentials.differential(0)#maxSpeedRatio" value="2" />
            <set path="vehicle.motorized.differentialConfigurations.differentialConfiguration.differentials.differential(1)#maxSpeedRatio" value="3" />
            <set path="vehicle.motorized.differentialConfigurations.differentialConfiguration.differentials.differential(2)#maxSpeedRatio" value="1.5" />
            <set path="vehicle.motorized.differentialConfigurations.differentialConfiguration.differentials.differential(2)#torqueRatio" value="0.85" />

            <!-- cummins turbocharged 8.3L 6CTA 8.3 // 45.5L/h @1900rpm and 183KW-->
            <set path="vehicle.motorized.consumerConfigurations.consumerConfiguration(0).consumer(0)#usage" value="45.5"/>

            <remove path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor#torqueScale" value="1"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor#minRpm" value="1090"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor#maxRpm" value="2200"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor#maxForwardSpeed" value="29"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor#maxBackwardSpeed" value="15"/>

            <!-- governor regulation = 8% -->
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor#mrGovernorRpmRange" value="176" />
            <!-- combine harvester = greater engine inertia than tractors or other vehicles -->
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor#mrInertiaFx" value="1.6" />

            <!-- better brake force since only the front wheels are braking -->
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor#brakeForce" value="12"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(0)#rpm" value="800"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(0)#torque" value="0.660"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(1)#rpm" value="1000"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(1)#torque" value="0.792"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(2)#rpm" value="1200"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(2)#torque" value="0.901"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(3)#rpm" value="1400"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(3)#torque" value="1.012"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(4)#rpm" value="1500"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(4)#torque" value="1.028"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(5)#rpm" value="1700"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(5)#torque" value="0.987"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(6)#rpm" value="1800"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(6)#torque" value="0.959"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(7)#rpm" value="2000"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(7)#torque" value="0.880"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(8)#rpm" value="2100"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(8)#torque" value="0.825"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(9)#rpm" value="2200"/>
            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).motor.torque(9)#torque" value="0.765"/>

            <set path="vehicle.motorized.motorConfigurations.motorConfiguration(0).transmission#minForwardGearRatio" value="28.5"/>

            <set path="vehicle.fillUnit.fillUnitConfigurations.fillUnitConfiguration(0).fillUnits.fillUnit(0)#mrCenterOfMass" value="0 3 0.9"/>

        </attributes>
    </parentFile>

</vehicle>