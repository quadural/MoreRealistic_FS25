<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<vehicle type="plow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../shared/xml/schema/vehicle.xsd">

    <MR>true</MR>
    <mrPowerConsumer checkPointWorkAreaStartAndHeightOnly="true" forcePointX="-0.1" forcePointY="0.2" varyWithAnimationAnimName="workingWidthSettingAnim" varyWithAnimationStartFactor="1" varyWithAnimationEndFactor="0.8" />

    <!--
        base weight (4 furrows) = 1078kg
        then we have to add the weight of skimmers (MS2) => 1160kg

        weight 5 furrows = 1305kg
        then we have to add the weight of skimmers (MS2) => 1400kg

        working width 2m / 4 shares => 20 inches settings
        working width 2.5m / 5 shares => 20 inches settings

    -->

    <parentFile xmlFilename="$data/vehicles/lemken/juwel6/juwel6.xml">
        <attributes>

            <set path="vehicle.base.speedLimit#value" value="15"/>

            <set path="vehicle.base.components.component(0)#centerOfMass" value="0.7 0.75 0.6"/>
            <set path="vehicle.base.components.component(0)#mass" value="1120"/>

            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(0).physics#damper" value="10"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(0).physics#spring" value="50"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(0).physics#mrFrictionScale" value="0.5"/>

            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(1).wheels.wheel(0).physics#damper" value="10"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(1).wheels.wheel(0).physics#spring" value="50"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(1).wheels.wheel(0).physics#mrFrictionScale" value="0.5"/>

            <set path="vehicle.powerConsumer.powerConsumerConfigurations.powerConsumerConfiguration(0)#maxForce" value="24" />
            <set path="vehicle.powerConsumer.powerConsumerConfigurations.powerConsumerConfiguration(1)#maxForce" value="30" />
            <set path="vehicle.powerConsumer#forceDirNode" value="topReferenceNode" />

            <set path="vehicle.groundReferenceNodes.groundReferenceNode(0)#threshold" value="0.9" />

            <!-- no brake -->
            <set path="vehicle.attachable.brakeForce#force" value="0" />

            <set path="vehicle.attachable.inputAttacherJoints.inputAttacherJoint(0)#mrLowerRotationOffset" value="0" />
            <set path="vehicle.attachable.inputAttacherJoints.inputAttacherJoint(0)#upperRotationOffset" value="12" />
            <set path="vehicle.attachable.inputAttacherJoints.inputAttacherJoint(0).distanceToGround#upper" value="0.9" />
            <set path="vehicle.attachable.inputAttacherJoints.inputAttacherJoint(0).distanceToGround#lower" value="0.55" />
            <set path="vehicle.attachable.inputAttacherJoints.inputAttacherJoint(0)#lowerRotLimitScale" value="0.02 0 0.1" />
            <set path="vehicle.attachable.inputAttacherJoints.inputAttacherJoint(0)#lowerTransLimitScale" value="0 0 0" />

            <!-- additional mass with 5 furrows -->
            <set path="vehicle.workAreas.workAreaConfigurations.workAreaConfiguration(1).objectChange(13)#massActive" value="1360" />

            <!-- "rotate plow animation" = IRL, we don't have 180Â° when rotating because one side of the tractor's wheels are in the furrow-->
            <set path="vehicle.animations.animation(0).part(1)#startRot" value="0 0 -6" />
            <set path="vehicle.animations.animation(0).part(3)#endRot" value="0 0 -174" />

            <!-- "fold plow animation" = IRL, we don't have 180Â° when rotating because one side of the tractor's wheels are in the furrow -->
            <set path="vehicle.animations.animation(1).part(4)#startRot" value="0 0 -6" />

            <!-- "rotate plow animation" = moving center of masses -->
            <set path="vehicle.animations.animation(0).part(12)#startTime" value="0" />
            <set path="vehicle.animations.animation(0).part(12)#endTime" value="8" />
            <set path="vehicle.animations.animation(0).part(12)#startCenterOfMass" value="0.7 0.75 0.6" />
            <set path="vehicle.animations.animation(0).part(12)#endCenterOfMass" value="-0.7 0.75 0.6" />
            <set path="vehicle.animations.animation(0).part(12)#componentIndex" value="1" />

            <!-- "fold plow animation" = moving center of masses -->
            <set path="vehicle.animations.animation(1).part(17)#startTime" value="0" />
            <set path="vehicle.animations.animation(1).part(17)#endTime" value="3" />
            <set path="vehicle.animations.animation(1).part(17)#startCenterOfMass" value="0.7 0.75 0.6" />
            <set path="vehicle.animations.animation(1).part(17)#endCenterOfMass" value="0 0.75 0.6" />
            <set path="vehicle.animations.animation(1).part(17)#componentIndex" value="1" />

        </attributes>
    </parentFile>

</vehicle>