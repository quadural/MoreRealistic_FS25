<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<vehicle type="woodCrusherTrailer" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../shared/xml/schema/vehicle.xsd">

    <MR>true</MR>

    <!--

    would be better if we could lower the "static and dynamic friction" of the collision boxes => IRL, wood over metal = slip easily

    powerFx =   below 1 means the crusher is efficient and consumes less power while crushing than other crushers
                above 1 means the crysher is less efficient than other crushers

    idlePower = power consumed when the crusher is ON but there is nothing to crush

    maxCrushingPower = this is the max crushing power the crusher can handle => when the figure goes above that, the feeding system is paused (not possible to crush big logs continously with any crusher if you have a very powerful tractor)

    maxTractionForce = in KN => max pulling force possible by the feeding system (big feeding roller ?)

    make sure you set a capacity for the fillUnit. The crusher will pause when crushing a lot and the pipe can't handle all that (pause @50% filllevel)
    => and set the pipe unloading capacity according to IRL figures (in our case, Heizomat 10-500  => about 150M3/h max at work, if 80% of the time chipping => 3125L/min = 52L/second. We apply a safety factor of 1.5 => 78L/s

    make sure you set a high pto rpm wanted (powerConsumer#ptoRpm) to help tractors
    -->
    <mrWoodCrusher powerFx="1" idlePower="30" maxCrushingPower="300" maxTractionForce="5" cutFeedWidth="1" cutTargetY="0.3" />
    <mrPowerConsumer forcePtoRpm="true" /> <!-- forcePtoRpm means we want full pto rpm even at idle/not moving -->

    <parentFile xmlFilename="$data/vehicles/heizomat/hm10500KF/hm10500KF.xml">
        <attributes>

            <set path="vehicle.attachable.brakeForce#force" value="1.4" />

            <set path="vehicle.base.components.component(0)#centerOfMass" value="0 0.8 -1.4" />
            <set path="vehicle.base.components.component(0)#mass" value="8500" />

            <set path="vehicle.powerConsumer#neededMaxPtoPower" value="10" /> <!-- hydraulics, not pto -->
            <set path="vehicle.powerConsumer#ptoRpm" value="540" />

            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(0).physics#suspTravel" value="0.06"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(1).physics#suspTravel" value="0.06"/>

            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(0).physics#spring" value="100"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(1).physics#spring" value="100"/>

            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(0).physics#damper" value="1"/>
            <set path="vehicle.wheels.wheelConfigurations.wheelConfiguration(0).wheels.wheel(1).physics#damper" value="1"/>

            <!-- can store a little bit of wood chip if the turbine is off -->
            <set path="vehicle.fillUnit.fillUnitConfigurations.fillUnitConfiguration(0).fillUnits.fillUnit(0)#capacity" value="600" />

            <!-- limited discharge speed -->
            <set path="vehicle.dischargeable.dischargeNode#emptySpeed" value="78" />

            <!--FIX folded pipe = collide with tractor vehicle ! -->
            <set path="vehicle.pipe.pipeNodes.pipeNode(0).state(0)#rotation" value="25 0 0"/>
            <set path="vehicle.pipe.pipeNodes.pipeNode(1).state(0)#rotation" value="0 -18 0"/>
            <set path="vehicle.pipe.pipeNodes.pipeNode(2).state(0)#rotation" value="-45 0 0"/>
            <set path="vehicle.pipe.pipeNodes.pipeNode(3).state(0)#rotation" value="-35 0 0"/>

            <!-- redim cut size -->
            <set path="vehicle.woodCrusher#cutSizeY" value="1.6" />
            <set path="vehicle.woodCrusher#cutSizeZ" value="1.3" />

            <!-- fix broken xml config -->
            <set path="vehicle.woodCrusher.moveCollisions.collision(1)#node" value="feedingTableMoveCollision02" />
            <set path="vehicle.woodCrusher.moveCollisions.collision(4)#node" value="feedingTableMoveCollision05" />

        </attributes>
    </parentFile>

</vehicle>